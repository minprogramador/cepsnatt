<html lang="pt-br">
<head>
	<meta charset="UTF-8">
    <title>Natt - Menu de Consulta</title>
    <script type="text/javascript">

		function consultar()
		{
			document.getElementById('blanket').style.display = 'block';document.getElementById('aguarde').style.display = 'block';

			if(document.getElementById('e_cpf').value!="") {
				var retorno = dvcpf(document.getElementById('e_cpf'));
				if (retorno == true) {
					document.PostForm1.action = '?pg=cpf';
					document.PostForm1.submit();
				} else { alert("CPF Invalido!");}
			}	

			if(document.getElementById('e_cnpj').value!="") {
				var retorno = ValidarCNPJ(document.getElementById('e_cnpj')); 
				if (retorno == true) {
					document.PostForm1.action = '?pg=cnpj';  
					document.PostForm1.submit();
				} else { alert("CNPJ Invalido!")}	
			}

			if(document.getElementById('e_telefone').value!="") {
				document.PostForm1.action = '?pg=fone';  
				document.PostForm1.submit();
			}

			if(document.getElementById('e_nome').value!="") {
				document.PostForm2.action = '?pg=nome';  
				document.PostForm2.submit();
			}

			if(document.getElementById('e_log').value!="") {
				var e = document.getElementById('e_uf');
				var itemSelecionado = e.options[e.selectedIndex].value;
				if ( document.getElementById('e_cidade').value=="") {
					alert("Obrigatorio preencher a Cidade!");
				} else if (itemSelecionado == "") {
					alert("Obrigatorio selecionar o Estado!");	
				} else {
					document.PostForm3.action = '?pg=end';
					document.PostForm3.submit();
				}
			}

			if(document.getElementById('e_cep').value!="") {
				document.PostForm4.action = '?pg=end';
				document.PostForm4.submit();
			}	
		}

		function consultarBacen()
		{
			if(document.getElementById('e_cpf_bacen').value!="") {
						var retorno = ValidarCPF(document.getElementById('e_cpf_bacen'));
						if (retorno == true) {
							document.PostForm10.action = '?pg=bacen';
							document.PostForm10.submit();
						} else { alert("CPF Invalido!");}
					}	

					if(document.getElementById('e_cnpj_bacen').value!="") {
						var retorno = ValidarCNPJ(document.getElementById('e_cnpj_bacen')); 
						if (retorno == true) {
							document.PostForm10.action = '?pg=bacen';  
							document.PostForm10.submit();
						} else { alert("CNPJ Invalido!")}	
					}
				}	


			function formatar(mascara, documento)
				{
					var i = documento.value.length;
				  	var saida = mascara.substring(0,1);
				  	var texto = mascara.substring(i)
			  	
			  		if (texto.substring(0,1) != saida) {
            			documento.value += texto.substring(0,1);
  					}
  				}	
  			function Opcao($valor)
				{
					window.location.href='Natt.php?pg='.concat($valor);
				}

			//valida o CNPJ digitado
			function ValidarCNPJ(ObjCnpj)
				{
			        var cnpj = ObjCnpj.value;
			        var valida = new Array(6,5,4,3,2,9,8,7,6,5,4,3,2);
			        var dig1= new Number;
			        var dig2= new Number;

			        exp = /\.|\-|\//g
			        cnpj = cnpj.toString().replace( exp, "" ); 
			        var digito = new Number(eval(cnpj.charAt(12)+cnpj.charAt(13)));

			        for(i = 0; i<valida.length; i++){
			                dig1 += (i>0? (cnpj.charAt(i-1)*valida[i]):0);  
			                dig2 += cnpj.charAt(i)*valida[i];       
			        }
			        dig1 = (((dig1%11)<2)? 0:(11-(dig1%11)));
			        dig2 = (((dig2%11)<2)? 0:(11-(dig2%11)));

			        if(((dig1*10)+dig2) != digito) { 
			            return false;
			        } else { return true; }
			    }
			
			//dvcpf
			//Funcao de digito verificador de CPF
			//Parametros: 
			function dvcpf (Objcpf)
			{
					
					var cpf = Objcpf.value;
			        exp = /\.|\-/g
			        cpf = cpf.toString().replace( exp, "" ); 
			        var vlr=cpf;

			lngSoma = 0;
			intNumero = 0;
			intMais = 0;
			strCampo = vlr.substr( 0, 9 );

			if (vlr.length < 11) { return false; }
			for ( i=1; i<10; i++ )
			{
				strCaracter = strCampo.substr( strCampo.length - i );
				intNumero = parseInt( strCaracter.substr( 0, 1 ) );
				intMais = intNumero * ( i+1 );
				lngSoma += intMais;
			}
			dblDivisao = lngSoma / 11;
			lngInteiro = parseInt( dblDivisao ) * 11;
			intResto = lngSoma - lngInteiro;
			intDig1 = ( intResto == 0 || intResto == 1 ) ? 0 : 11 - intResto;
			strCampo += intDig1;
			lngSoma = 0;
			intNumero = 0;
			intMais = 0;
			for ( i=1; i<11; i++ )
			{
				strCaracter = strCampo.substr( strCampo.length - i );
				intNumero = parseInt( strCaracter.substr( 0, 1 ) );
				intMais = intNumero * ( i+1 );
				lngSoma += intMais;
			}
			dblDivisao = lngSoma / 11;
			lngInteiro = parseInt( dblDivisao ) * 11;
			intResto = lngSoma - lngInteiro;
			intDig2 = ( intResto == 0 || intResto == 1 ) ? 0 : 11 - intResto;
			strCampo += intDig2;
			strConf = intDig1.toString() + intDig2.toString();
			rt = ( strConf == vlr.substr( vlr.length - 2 ) );

			if (! rt ) 
			{
				return false;
			}
			else
			{
				return true;
			}

			} // FIM DVCPF

			//valida o CPF digitado
			function ValidarCPF(Objcpf)
				{
			        var cpf = Objcpf.value;
			        exp = /\.|\-/g
			        cpf = cpf.toString().replace( exp, "" ); 
			        var digitoDigitado = eval(cpf.charAt(9)+cpf.charAt(10));
			        var soma1=0, soma2=0;
			        var vlr =11;

			        for(i=0;i<9;i++){
			                soma1+=eval(cpf.charAt(i)*(vlr-1));
			                soma2+=eval(cpf.charAt(i)*vlr);
			                vlr--;
			        }       
			        soma1 = (((soma1*10)%11)==10 ? 0:((soma1*10)%11));
			        soma2=(((soma2+(2*soma1))*10)%11);

			        var digitoGerado=(soma1*10)+soma2;
			        
			        if(digitoGerado!=digitoDigitado)  { 
			            return false;
			        } else { return true; }        
			}

			//valida cpf 2
			 function validaCPF(Objcpf)
			  {
			 var cpf = Objcpf.value;
  			exp = /\.|\-/g
			cpf = cpf.toString().replace( exp, "" );
			  var numeros, digitos, soma, i, resultado, digitos_iguais;
			    digitos_iguais = 1;
			    if (cpf.length < 11)
			          return false;
			    for (i = 0; i < cpf.length - 1; i++)
			          if (cpf.charAt(i) != cpf.charAt(i + 1))
			                {
			                digitos_iguais = 0;
			                break;
			                }
			    if (!digitos_iguais)
			          {
			          numeros = cpf.substring(0,9);
			          digitos = cpf.substring(9);
			          soma = 0;
			          for (i = 10; i > 1; i--)
			                soma += numeros.charAt(10 - i) * i;
			          resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
			          if (resultado != digitos.charAt(0))
			                return false;
			          numeros = cpf.substring(0,10);
			          soma = 0;
			          for (i = 11; i > 1; i--)
			                soma += numeros.charAt(11 - i) * i;
			          resultado = soma % 11 < 2 ? 0 : 11 - soma % 11;
			          if (resultado != digitos.charAt(1))
			                return false;
			          return true;
			          }
			    else
			        return false;
			  }
			
			function enter()
				{
      			if (event.keyCode == 13) {
				  	consultar();
			    }
			}
			
			document.onkeydown=enter;

  		</script>
		<style>
			#blanket,#aguarde {
			    position: fixed;
			    display: none;
			}

			#blanket {
			    left: 0;
			    top: 0;
			    background-color: #f0f0f0;
			    filter: alpha(opacity =         65);
			    height: 100%;
			    width: 100%;
			    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=65)";
			    opacity: 0.65;
			    z-index: 9998;
			}

			#aguarde {
			    width: auto;
			    height: 30px;
			    top: 40%;
			    left: 45%;
			    background: url('http://i.imgur.com/SpJvla7.gif') no-repeat 0 50%; // o gif que desejar, eu geralmente uso um 20x20
			    line-height: 30px;
			    font-weight: bold;
			    font-family: Arial, Helvetica, sans-serif;
			    z-index: 9999;
			    padding-left: 27px;
			}
		</style>  		
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,800" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="nx/css/reset.css">
        <link rel="stylesheet" href="nx/css/novo.css"> 

    <meta http-equiv="pragma" content="no-cache"><style type="text/css"></style></head>
    
        
        <body class="home"><div id="blanket"></div>
        <div id="aguarde"><br>Aguarde...</div>
    	
    	

   			
			    <aside>
			    <div align="center">
			        <h3 class="" align="center"><br><br><b>Selecione o Produto</b></h3>
				        <br>
	       				<div>
	           				<label>
								<input class="btn firebrickativo" value="ACHEI" onclick="Opcao('achei')" type="submit">
	           				</label>
	       				</div>
	       				<br>

    	   				<br>
	       				<div>	
	           				<label> 
	           						           					<input class="btn firebrick" value="NATT Bacen" onclick="Opcao('bacen')" type="submit">
	           				</label> 
	       				</div>
	       				<br>
	       				<hr>
	       				<div>
	       				<br>	
	           				<label> 
	           						           					
	           				</label> 
	       				</div>
	       		</div>
	       		<div style="margin-top: 180px"></div></aside>			
	<br><br>
		        <article>
	             		<div style="margin-bottom: 15px;">	
 			<fieldset>
 				<legend><b>Consulta via CPF/CNPJ ou Telefone<b></b></b></legend><b><b>
				<form name="PostForm1" action="" method="post" enctype="multipart/form-data">
	            	<div class="label_line">
		                <label class="label_tri2">
		                    <span class="field">CPF:</span>
			                <input name="e_cpf" id="e_cpf" value="" maxlength="14" onkeypress="formatar('###.###.###-##', this)" type="text">
			            </label>

			            <label class="label_tri2">
			                <span class="field">CNPJ:</span>
			                <input name="e_cnpj" id="e_cnpj" value="" maxlength="18" onkeypress="formatar('##.###.###.####/##', this)" type="text">
			            </label>
									    
						<label class="label_tri2">
			                <span class="field">DDD + Telefone:</span>
			                <input name="e_telefone" id="e_telefone" value="" maxlength="13" onkeypress="formatar('##-####-#####', this)" type="text">
			            </label>
					</div>
				</form>
			</b></b></fieldset><b><b>	
		</b></b></div><b><b>

		<div style="margin-bottom: 15px;">
			<fieldset>
				<legend><b>Consulta por Nome ou Razao Social<b></b></b></legend><b><b>
				<form name="PostForm2" action="" method="post" enctype="multipart/form-data">	
					<div class="label_line">
				        <label class="label">
				        	<span class="field">Nome ou Razao Social:</span>
				            <input name="e_nome" id="e_nome" value="" type="text">
				        </label>
				    </div>
				</form>
			</b></b></fieldset><b><b>	
		</b></b></div><b><b>

		<div style="margin-bottom: 15px;">
			<fieldset>
				<legend><b>Consulta por Endereco<b></b></b></legend><b><b>
				<form name="PostForm3" action="" method="post" enctype="multipart/form-data">
		            <div class="label_line">
	   					<label class="label_tri">
							<span class="field">Endereço:</span>
			            	<input placeholder="NAo incluir RUA, AV, ESTREADA, PRAÇA, etc..." name="e_log" id="e_log" value="" type="text">
	        			</label>
		           		<label class="label_tri">
							<span class="field">Cidade:</span>
							<input name="e_cidade" id="e_cidade" value="" type="text">
				        </label>
		      			
		      			<label class="label_tri">
							<span class="field">Estado UF:</span>
						    <select name="e_uf" id="e_uf">
						    	<option value="" selected="">Selecione o Estado</option>
								<option value="AC">Acre</option>
								<option value="AL">Alagoas</option>
								<option value="AP">Amapá</option>
								<option value="AM">Amazonas</option>
								<option value="BA">Bahia</option>
								<option value="CE">Ceará</option>
								<option value="DF">Distrito Federal</option>
								<option value="ES">Espírito Santo</option>
								<option value="GO">Goiás</option>
								<option value="MA">Maranhão</option>
								<option value="MT">Mato Grosso</option>
								<option value="MS">Mato Grosso do Sul</option>
								<option value="MG">Minas Gerais</option>
								<option value="PA">Pará</option>
								<option value="PB">Paraíba</option>
								<option value="PR">Paraná</option>
								<option value="PE">Pernambuco</option>
								<option value="PI">Piauí</option>
								<option value="RJ">Rio de Janeiro</option>
								<option value="RN">Rio Grande do Norte</option>
								<option value="RS">Rio Grande do Sul</option>
								<option value="RO">Rondônia</option>
								<option value="RR">Roraima</option>
								<option value="SC">Santa Catarina</option>
								<option value="SP">São Paulo</option>
								<option value="SE">Sergipe</option>
								<option value="TO">Tocantins</option>
						    </select>
		                </label>
					</div>
				</form>
			</b></b></fieldset><b><b>
		</b></b></div><b><b>
		
		<div style="margin-bottom: 15px;">	
			<fieldset>
				<legend><b>Consulta por CEP<b></b></b></legend><b><b>
				<form name="PostForm4" action="" method="post" enctype="multipart/form-data">	    
					<div class="label_line">
						<label class="label_tri2">
							<span class="field">Cep:</span>
		                	<input name="e_cep" id="e_cep" value="" maxlength="13" onkeypress="formatar('##.###-###', this)" type="text">
	       				</label>

	       				<label class="label_tri2">
							<span class="field">N.Inicio:</span>
		                	<input name="e_numero_inicio" id="e_numero_inicio" value="" type="text">
	       				</label>

	       				<label class="label_tri2">
							<span class="field">N.Fim:</span>
		                	<input name="e_numero_fim" id="e_numero_fim" value="" type="text">
	       				</label>
					</div>
				</form>
			</b></b></fieldset><b><b>	
		</b></b></div><b><b>	
		
		<div>
	    	<label>
	        	<input id="Pesquisar" class="btn blue" value="PESQUISAR" onclick="consultar()" type="button">
	    	</label>
	    </div>
				</b></b></b></b></b></b></b></b></article><b><b><b>
	 		
  

</b></b></b></body></html>